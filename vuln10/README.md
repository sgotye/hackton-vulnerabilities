# Задание с предоплатой: TotalGas

Если выбрана предоплата, после прохождения полного цикла и после подтверждения успешной заправки капитаном формируется еще один PaymentOrder, c id = 0, paymentTime = 0, amount = (totalGas - requestedGas)*price (может быть 0). Предоплата - только то, что запросил капитан.

Может вместо totalGas RequestedGas? Так будет реальная разница между тем, что уже оплатили и тем, что заправили.
Здесь totalGas - то, что написала в этом поле авиакомпания при создании задания + RequestedGas. И тогда будет соответствие с документацией: "в случае предоплаты, если указанное капитаном количество топлива не совпадает с количеством заправленного топлива, то формируется платежное поручение для возврата средств или дополнительной оплаты соответственно"
